<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>three.js学习 | idkhts&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="IDKHTS,IDKHTS's Blog" />
  
  <meta name="description" content="环境本次是以学习为主，均为一些demo，不必要搞复杂。所以直接使用CDN资源。 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;&lt;head&gt;	&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;	&lt;meta http-equiv&#x3D;&quot;">
<meta property="og:type" content="article">
<meta property="og:title" content="three.js学习">
<meta property="og:url" content="https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="idkhts&#39;s blog">
<meta property="og:description" content="环境本次是以学习为主，均为一些demo，不必要搞复杂。所以直接使用CDN资源。 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;&lt;head&gt;	&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;	&lt;meta http-equiv&#x3D;&quot;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/08/08/f1M8gI.png">
<meta property="article:published_time" content="2021-08-08T15:09:56.000Z">
<meta property="article:modified_time" content="2021-08-08T17:04:39.914Z">
<meta property="article:author" content="idkhts">
<meta property="article:tag" content="three.js">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/08/08/f1M8gI.png">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/pace.min.js"></script>

  

  
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">IDKHTS&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>首页</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>归档</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>关于我</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/47650726.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        IDKHTS&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        (⊙﹏⊙)
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="IDKHTS" target="_blank" href="/">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/IDKHTS">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-three-js学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      three.js学习
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2021-08-08
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>本次是以学习为主，均为一些demo，不必要搞复杂。所以直接使用CDN资源。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">&#x27;../build/three.module.js&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上就是基本结构了</p>
<h2 id="场景、物体、视角、渲染器"><a href="#场景、物体、视角、渲染器" class="headerlink" title="场景、物体、视角、渲染器"></a>场景、物体、视角、渲染器</h2><p>其实我们生活的世界就是三维世界，那么创建一个三维的视角的应用，其实就和创造世界差不多，总结起来三步：</p>
<ol>
<li>创建一个世界</li>
<li>在世界中指定一个视角</li>
<li>创建物体</li>
</ol>
<p>而且2、3步可以互换</p>
<p>而在ThreeJS中，多一个步骤，渲染到浏览器上</p>
<ol>
<li>创建一个世界</li>
<li>创建camera（指定一个视角）</li>
<li>创建物体（导入模型，或者直接使用js创建</li>
<li>渲染到浏览器上</li>
</ol>
<h3 id="创建场景"><a href="#创建场景" class="headerlink" title="创建场景"></a>创建场景</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建场景（创建一个世界，这个世界就是我们3d展示的世界）</span></span><br><span class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene()</span><br></pre></td></tr></table></figure>

<p>非常简单的new直接一个Scene对象</p>
<h3 id="创建camera"><a href="#创建camera" class="headerlink" title="创建camera"></a>创建camera</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建相机（场景中，用户的视角，相机在哪用户就只能看到场景中的哪一个部分）</span></span><br><span class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">75</span>, <span class="built_in">window</span>.innerWidth / <span class="built_in">window</span>.innerHeight, <span class="number">0.1</span>, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<p>创建Camera也是new一个对象。这里创建的PerspectiveCamera（透视相机），视角意思是“透视”的，原词就是绘画的专业术语。原理类似这样：</p>
<p><img src="https://z3.ax1x.com/2021/08/08/f1M8gI.png" alt="透视相机"></p>
<p>ThreeJS中的camera有几个类型，可以按需求创建。目前先不要关心其他的camera类型</p>
<h3 id="创建物体"><a href="#创建物体" class="headerlink" title="创建物体"></a>创建物体</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建物体——立方体</span></span><br><span class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BoxGeometry()</span><br><span class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123; <span class="attr">color</span>: <span class="string">&#x27;#00ff00&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">const</span> cube = <span class="keyword">new</span> THREE.Mesh(geometry, material)</span><br><span class="line">scene.add(cube)</span><br></pre></td></tr></table></figure>

<p>物体由几何数据geometry和材质material</p>
<ul>
<li>几何数据表现物体的形状大小</li>
<li>材质表示物体表面颜色</li>
</ul>
<p>在展示的3d场景中，物体被的抽象为网格物体Mesh。即Mesh包含了物体的几何数据和材质</p>
<h3 id="创建渲染器"><a href="#创建渲染器" class="headerlink" title="创建渲染器"></a>创建渲染器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建渲染器（绘制场景）</span></span><br><span class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer()</span><br><span class="line">renderer.setSize(<span class="built_in">window</span>.innerWidth, <span class="built_in">window</span>.innerHeight)</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(renderer.domElement)</span><br></pre></td></tr></table></figure>



<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    cube.rotation.x += <span class="number">0.01</span></span><br><span class="line">    cube.rotation.y += <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">    renderer.render(scene, camera)</span><br><span class="line">    requestAnimationFrame(animate)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">animate()</span><br></pre></td></tr></table></figure>

<p>和视频的的原理是一样的，每一次渲染都只是渲染一个固定的视角，固定的物体，画面静止。快速渲染多个画面，画面就有了动态。这里也一样，也是一个一个画面渲染，所以要手动执行动画不断渲染。动画使用<code>requestAnimationFrame</code>。</p>
<p>即three和普通的canvas一样，绘制是一帧一帧的，要动画，请不断绘制。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/IDKHTS/demos/blob/master/threeJS/demo1/index.html">详细代码</a></p>
<h2 id="纹理加载"><a href="#纹理加载" class="headerlink" title="纹理加载"></a>纹理加载</h2><p>和第一个demo基本一样，但多使用了一个纹理。什么是纹理？请看<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/25745472">专业回答</a>，也即纹理是材质的一种，记录位置和颜色等信息，更白话一点，大概就是“皮肤”。</p>
<p>这个例子来做一个立方体木块，嗯。。。大概就像游戏 我的世界 的木块一样。代码基本和第一个demo，唯一不同是，创建物体阶段，多加了纹理加载和处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 纹理加载</span></span><br><span class="line"><span class="comment">// 生成一个纹理加载器</span></span><br><span class="line"><span class="keyword">const</span> textureLoader = <span class="keyword">new</span> THREE.TextureLoader()</span><br><span class="line"><span class="comment">// 加载器加载具体的纹理</span></span><br><span class="line"><span class="keyword">const</span> texture = textureLoader.load(<span class="string">&quot;../textures/wood.jpg&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建物体——立方体</span></span><br><span class="line"><span class="comment">// 物体由几何数据geometry和材质material，几何数据表现物体的形状大小，材质表示物体表面颜色</span></span><br><span class="line"><span class="comment">// 在展示的3d场景中，物体被的抽象为网格物体Mesh。即Mesh包含了物体的几何数据和材质</span></span><br><span class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BoxGeometry()</span><br><span class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123; <span class="attr">map</span>: texture &#125;)</span><br><span class="line"><span class="keyword">const</span> cube = <span class="keyword">new</span> THREE.Mesh(geometry, material)</span><br><span class="line">scene.add(cube)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/IDKHTS/demos/blob/master/threeJS/demo2/index.html">详细代码</a></p>
<p>还有比较常见的例子，球体然后加载一个对应地图的纹理，构成一个地球。有点逐步创造世界的感觉了</p>
<h2 id="视角控制"><a href="#视角控制" class="headerlink" title="视角控制"></a>视角控制</h2><p>所谓视角控制，即用户可以使用鼠标或者键盘来控制相机，使得“看”到的画面不一样，可变化性，使得这个世界更加真实更加，控制性则大概就是这个世界存在的意义。</p>
<p>物体足够真实，视角控制又可以让用户从各个角度去观察，这大概就是很多展览业务要做的事情。现在配合前面的例子，实现一个预览木块（。。。）；同样基本结构也和前demo一样，但多加一些视角控制逻辑</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 轨道控制器，Orbit controls（轨道控制器）可以使得相机围绕目标进行轨道运动。</span></span><br><span class="line">controls = <span class="keyword">new</span> OrbitControls(camera, renderer.domElement)</span><br><span class="line">controls.update()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// some code</span></span><br><span class="line">    controls.update() </span><br><span class="line">    requestAnimationFrame(animate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是的，就是这么简单。。。</p>
<p>当然，这里只是使用了一种控制器，轨道控制器，相机随着指定目标旋转、缩放，即相机移动的位置是一个球面，或者接近/原理球心。其它的后文再提。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/IDKHTS/demos/blob/master/threeJS/demo3/index.html">详细代码</a></p>
<h2 id="导入模型"><a href="#导入模型" class="headerlink" title="导入模型"></a>导入模型</h2><p>ThreeJS中提供了创建物体的各种基础方法，但是要创建一个复杂的物体，比如比较精细的人体时，使用代码创建会非常的复杂。所以最好是能够使用其他一些图形化工具创建好对应的物体然后导入使用，那么还要开发一个这样的工具？答案肯定是否定（虽然要开发也是我开发），目前已经有很多3D游戏或者建模影视作品了，工具很早就是已经有了的。比如3dmax，Maya等，建好模型导出一定的格式，再由ThreeJS解析，最后再搭配js逻辑即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// gltf物体加载器（用于加载建模后导出的文件gltf）</span></span><br><span class="line"><span class="keyword">const</span> gltfLoader = <span class="keyword">new</span> GLTFLoader();</span><br><span class="line"><span class="comment">// 加载模型</span></span><br><span class="line"><span class="keyword">const</span> sub = gltfLoader.load(<span class="string">&#x27;../gltf/Soldier.glb&#x27;</span>, <span class="function">(<span class="params">sub</span>) =&gt;</span> &#123;</span><br><span class="line">    scene.add(sub.scene)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>既然已经站在巨人的肩膀了，所以代码很简单，加载器，加载，加载完成后回调添加到场景scene中，完成。</p>
<p>不过这里，有一点问题。创建的3d世界和现实世界是很像的，人要看到物体，要有光。没有光，无法对物体进行反射，最终物体就是黑色的。所以只加上面代码，显示出来的模型是黑色的，若scene的背景色没有设置，默认为黑色，那么最终全屏都是黑色的。下面来为世界加上一点光</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 灯光</span></span><br><span class="line"><span class="comment">// 环境灯光，光辉会到达世界的每一个角落。。。。（所有地方都有光，不能制造阴影）</span></span><br><span class="line"><span class="comment">// 没有灯光之前，导入的物体是全黑的。因为没有光照到物体上，人是无法看到任何颜色的。</span></span><br><span class="line"><span class="keyword">const</span> light = <span class="keyword">new</span> THREE.AmbientLight(); <span class="comment">// soft white light</span></span><br><span class="line">scene.add(light);</span><br></pre></td></tr></table></figure>

<p>嗯，我说要有光，世界就有了光</p>
<p><a target="_blank" rel="noopener" href="https://github.com/IDKHTS/demos/blob/master/threeJS/demo4/index.html">详细代码</a>，这里要注意，直接访问本地的html文件（即浏览器地址栏是<code>file://</code>开头的）加载的会有跨域问题。要启动一个服务器，目录中threeJS已经写好了服务器代码，可以直接启动，详细看threeJS下的README文件</p>
<h2 id="动画、光线和阴影"><a href="#动画、光线和阴影" class="headerlink" title="动画、光线和阴影"></a>动画、光线和阴影</h2><h3 id="骨架与动作"><a href="#骨架与动作" class="headerlink" title="骨架与动作"></a>骨架与动作</h3><p>如何让计算机理解动作？ </p>
<ul>
<li>观察人摇头，可以发现手、脚、躯体都没有动，只有头部移动了，而且把头部看作很多个小点，小点都以一条轴做旋转。</li>
<li>观察人挥手，可以发现脚、躯体、头都没有动，只有手腕部动了，同样把手腕部分看作很多个小点，小点都以手肘中心点做旋转</li>
</ul>
<p>按照这个规律，前辈们就把一个物体切分多个部分，将作相同运动的化为一部分，这样在修改计算机中每个点数据时就是某一部分的点都进行一定的相同的操作。更深入的，物体划分处理的部分都可以看作一条线——称为骨骼，这条线作什么操作其他的点就作什么操作，比如手部分抽象出来的骨骼y轴平移了10个单位，那个整个手的点都y轴平移10个单位即可完成整个手的动作，旋转等操作也基本类似。这样，物体的运动就可以抽象成一堆线段——称为骨骼的运动，由复杂的物体转换成简单的线段运动（大佬们nb！！）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// gltf物体加载器（用于加载建模后导出的文件gltf）</span></span><br><span class="line"><span class="keyword">const</span> gltfLoader = <span class="keyword">new</span> GLTFLoader();</span><br><span class="line"><span class="comment">// 加载模型</span></span><br><span class="line">gltfLoader.load(<span class="string">&#x27;../gltf/Soldier.glb&#x27;</span>, <span class="function">(<span class="params">sub</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 取得模型</span></span><br><span class="line">    <span class="keyword">const</span> model = sub.scene</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 模型放到场景中</span></span><br><span class="line">    scene.add(sub.scene)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取得骨架skeleton</span></span><br><span class="line">    <span class="keyword">const</span> skeleton = <span class="keyword">new</span> THREE.SkeletonHelper(model);</span><br><span class="line">    <span class="comment">// skeleton.visible = true;</span></span><br><span class="line">    skeleton.visible = <span class="literal">false</span>;</span><br><span class="line">    scene.add(skeleton);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在ThreeJS中，骨架skeleton是由骨骼bone组成的，整个物体被骨骼分为多个部分，一个骨骼对应物体的某一部分。骨骼其实就是一条线段，为了简化物体的运动而抽象出来的，将三维立体的运动简化为了线段的运动。和现实一样，当物体运动时，运动的是骨骼，骨骼带动了物体某一部分</p>
<p>​    </p>
<h3 id="动画-1"><a href="#动画-1" class="headerlink" title="动画"></a>动画</h3><p>所谓动作也是一个动画，动画由多个静止的画面（帧）组成。骨骼在每一帧中偏移选转，多帧组合就形成了运动，即动画</p>
<p>同样的，ThreeJS代码中抽象也分了几个部分：</p>
<ol>
<li><p>每一帧中，每个骨骼都会有各自的运动，它们的集合成keyframe</p>
</li>
<li><p>骨骼多帧按时间顺序组成的集合（动画），存储在一个称为 关键帧轨道keyframeTrack 中。手臂的运动，手腕的运动等</p>
</li>
<li><p>通过不同的keyframeTrack组合，可以有多种运动（动画）。步行/奔跑/跳跃等。</p>
</li>
</ol>
<p>最后所有的动画数据都存放在animations里面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 时钟</span></span><br><span class="line">clock = <span class="keyword">new</span> THREE.Clock();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// gltf物体加载器（用于加载建模后导出的文件gltf）</span></span><br><span class="line"><span class="keyword">const</span> gltfLoader = <span class="keyword">new</span> GLTFLoader();</span><br><span class="line"><span class="comment">// 加载模型</span></span><br><span class="line">gltfLoader.load(<span class="string">&#x27;../gltf/Soldier.glb&#x27;</span>, <span class="function">(<span class="params">sub</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 取得模型</span></span><br><span class="line">    <span class="keyword">const</span> model = sub.scene</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 动作</span></span><br><span class="line">    <span class="keyword">const</span> animations = sub.animations;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 剪辑动画是一些运动的数据，而运动播放操作是通过 混合器mixer来进行的。</span></span><br><span class="line">    mixer = <span class="keyword">new</span> THREE.AnimationMixer(model);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mixter.clipAction(animation）接收动作动画数据，并生成剪辑动画（clipAction）</span></span><br><span class="line">    <span class="keyword">const</span> idleAction = mixer.clipAction(animations[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">const</span> walkAction = mixer.clipAction(animations[<span class="number">3</span>]);</span><br><span class="line">    <span class="keyword">const</span> runAction = mixer.clipAction(animations[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> actions = [idleAction, walkAction, runAction];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 动画播放</span></span><br><span class="line">    runAction.play()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// camera.position.z += 0.1</span></span><br><span class="line">    controls.update()</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 更新每一帧动作</span></span><br><span class="line">    <span class="keyword">if</span> (mixer) &#123;</span><br><span class="line">        mixer.update(clock.getDelta())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    renderer.render(scene, camera)</span><br><span class="line">    requestAnimationFrame(animate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="光线和阴影"><a href="#光线和阴影" class="headerlink" title="光线和阴影"></a>光线和阴影</h3><p>现在为了更加的真实，加上一个阴影效果。ThreeJS中添加阴影有三步</p>
<ol>
<li>添加光线</li>
<li>设置被投影物体</li>
<li>设置产生投影物体</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.添加灯光</span></span><br><span class="line"><span class="comment">// 现在使用一下贴合现实的直射光，直射光发出平行光可以产生阴影（shadow）</span></span><br><span class="line"><span class="keyword">const</span> dirLight = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>);</span><br><span class="line">dirLight.position.set(- <span class="number">3</span>, <span class="number">2</span>, - <span class="number">10</span>);</span><br><span class="line">dirLight.castShadow = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 设置 正交相机（OrthographicCamera） 相关属性，即阴影可以到达的大小</span></span><br><span class="line">dirLight.shadow.camera.top = <span class="number">2</span>;</span><br><span class="line">dirLight.shadow.camera.bottom = - <span class="number">2</span>;</span><br><span class="line">dirLight.shadow.camera.left = - <span class="number">2</span>;</span><br><span class="line">dirLight.shadow.camera.right = <span class="number">2</span>;</span><br><span class="line">dirLight.shadow.camera.near = <span class="number">0.1</span>; </span><br><span class="line">dirLight.shadow.camera.far = <span class="number">40</span>;</span><br><span class="line">scene.add(dirLight);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.设置被投影物体</span></span><br><span class="line"><span class="comment">// 创建物体——平地</span></span><br><span class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.PlaneGeometry(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">// const material = new THREE.MeshBasicMaterial(&#123; color: 0xeeeeee, side: THREE.DoubleSide &#125;);</span></span><br><span class="line"><span class="keyword">const</span> material =  <span class="keyword">new</span> THREE.MeshPhongMaterial( &#123; <span class="attr">color</span>: <span class="number">0x999999</span>, <span class="attr">depthWrite</span>: <span class="literal">false</span> &#125; )</span><br><span class="line"><span class="keyword">const</span> plane = <span class="keyword">new</span> THREE.Mesh(geometry, material);</span><br><span class="line">plane.receiveShadow = <span class="literal">true</span>;</span><br><span class="line">plane.rotateX(-<span class="built_in">Math</span>.PI / <span class="number">2</span>)</span><br><span class="line">scene.add(plane);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// gltf物体加载器（用于加载建模后导出的文件gltf）</span></span><br><span class="line"><span class="keyword">const</span> gltfLoader = <span class="keyword">new</span> GLTFLoader();</span><br><span class="line"><span class="comment">// 加载模型</span></span><br><span class="line">gltfLoader.load(<span class="string">&#x27;../gltf/Soldier.glb&#x27;</span>, <span class="function">(<span class="params">sub</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 取得模型</span></span><br><span class="line">    <span class="keyword">const</span> model = sub.scene</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.设置产生投影物体</span></span><br><span class="line">    model.traverse(<span class="function"><span class="keyword">function</span> (<span class="params">object</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (object.isMesh) object.castShadow = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ThreeJS里面的阴影是用camera计算出来的，其实就是投影计算。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/IDKHTS/demos/blob/master/threeJS/demo5/index.html">详细代码</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://threejs.org/docs/index.html">three.js官网</a></p>
<p><a target="_blank" rel="noopener" href="https://www.codenong.com/cs105925787/">3现代计算机图形学（正交投影，透视投影，MVP变换）</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/25745472">https://www.zhihu.com/question/25745472</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vadim-web/p/13413819.html">three.js 自制骨骼动画（二）</a></p>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2021年08月09日 01:04</p>
        <p>原始链接： <a class="post-url" href="/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/" title="three.js学习">https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/</a></p>
        <footer>
            <a href="https://idkhts.github.io">
                <img src="/images/47650726.png" alt="idkhts">
                idkhts
            </a>
        </footer>
    </div>
</div>

      
        
            

        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/&title=《three.js学习》 — idkhts's blog&pic=https://idkhts.github.ioimages/47650726.png" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/&title=《three.js学习》 — idkhts's blog&source=idkhts" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《three.js学习》 — idkhts's blog&url=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/&via=https://idkhts.github.io" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://idkhts.github.io/2021/08/08/three-js%E5%AD%A6%E4%B9%A0/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/three.js/" class="color4">three.js</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="post-toc-text">环境</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9C%BA%E6%99%AF%E3%80%81%E7%89%A9%E4%BD%93%E3%80%81%E8%A7%86%E8%A7%92%E3%80%81%E6%B8%B2%E6%9F%93%E5%99%A8"><span class="post-toc-text">场景、物体、视角、渲染器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9C%BA%E6%99%AF"><span class="post-toc-text">创建场景</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BAcamera"><span class="post-toc-text">创建camera</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E7%89%A9%E4%BD%93"><span class="post-toc-text">创建物体</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E6%B8%B2%E6%9F%93%E5%99%A8"><span class="post-toc-text">创建渲染器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="post-toc-text">动画</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BA%B9%E7%90%86%E5%8A%A0%E8%BD%BD"><span class="post-toc-text">纹理加载</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%A7%86%E8%A7%92%E6%8E%A7%E5%88%B6"><span class="post-toc-text">视角控制</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9E%8B"><span class="post-toc-text">导入模型</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8A%A8%E7%94%BB%E3%80%81%E5%85%89%E7%BA%BF%E5%92%8C%E9%98%B4%E5%BD%B1"><span class="post-toc-text">动画、光线和阴影</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%AA%A8%E6%9E%B6%E4%B8%8E%E5%8A%A8%E4%BD%9C"><span class="post-toc-text">骨架与动作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8A%A8%E7%94%BB-1"><span class="post-toc-text">动画</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%85%89%E7%BA%BF%E5%92%8C%E9%98%B4%E5%BD%B1"><span class="post-toc-text">光线和阴影</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8F%82%E8%80%83"><span class="post-toc-text">参考</span></a></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
  
    <a href="/2021/08/07/ES6-Iterator%E3%80%81Gengerator%E3%80%81Async-Await/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">ES6:Iterator、Gengerator、Async/Await</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <section class="comments" id="comments">
            <div id="gitalk-container"></div>
            <!-- <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
            <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> -->
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
            <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
            <script>
                let admins = 'IDKHTS'
                let arrPathName = (location.pathname).split("/")
                let gitalkID = ''
                for (let i = arrPathName.length - 1; i >= 0; i--) {
                    if (arrPathName[i] != '') { gitalkID = arrPathName[i].substring(0, 49); break }
                }
                // console.log(gitalkID)
                var gitalk = new Gitalk({
                    clientID: '884f505b74829948187e',
                    clientSecret: '4e414213f820b3ddde39e15a53c2b5a70c301c5d',
                    repo: 'idkhts.github.io',
                    owner: 'IDKHTS',
                    admin: admins.split(','),
                    id: gitalkID,//location.pathname,  // Ensure uniqueness and length less than 50
                    perPage: 50,
                    distractionFreeMode: 'false'
                })
    
                gitalk.render('gitalk-container')
            </script>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2021 idkhts<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "https://idkhts.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 0
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/http/" style="font-size: 12px;">http</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/three-js/" style="font-size: 10px;">three.js</a> <a href="/tags/vue/" style="font-size: 16px;">vue</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 20px;">其他</a> <a href="/tags/%E6%83%85%E6%99%AF/" style="font-size: 18px;">情景</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10px;">浏览器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" style="font-size: 12px;">计算机</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 14px;">计算机网络</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>首页</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>归档</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>关于我</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/http/" style="font-size: 12px;">http</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/three-js/" style="font-size: 10px;">three.js</a> <a href="/tags/vue/" style="font-size: 16px;">vue</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 20px;">其他</a> <a href="/tags/%E6%83%85%E6%99%AF/" style="font-size: 18px;">情景</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10px;">浏览器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" style="font-size: 12px;">计算机</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 14px;">计算机网络</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>

<script src="/js/search.js"></script>


<script src="/js/main.js"></script>



  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  
<script src="/js/particles.js"></script>








  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  
<script src="/js/animate.js"></script>



  
<script src="/js/pop-img.js"></script>

  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>