<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        
        vue-cli的vue.config.js
    </title>
    <!-- 引入font-awesome图标 -->
    
<link rel="stylesheet" href="/css/font-awesome-4.7.0/css/font-awesome.min.css">
  

    
<link rel="stylesheet" href="/css/common.css">
  
    
<link rel="stylesheet" href="/css/layout.css">

    
    
        
<link rel="stylesheet" href="/css/post.css">

        
<link rel="stylesheet" href="/css/directory.css">

    
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    <div class="navi-bar">
    
        
            <a class="navi-item" href="/" >
                首页
            </a>
            <!-- onclick="selectMenu('/')" -->
        
            <a class="navi-item" href="/archives" >
                归档
            </a>
            <!-- onclick="selectMenu('/archives')" -->
        
            <a class="navi-item" href="/demo/index.html" >
                vue2.x
            </a>
            <!-- onclick="selectMenu('/demo/index.html')" -->
        
            <a class="navi-item" href="/" >
                vue3.x
            </a>
            <!-- onclick="selectMenu('/')" -->
        
            <a class="navi-item" href="/" >
                计算机网络
            </a>
            <!-- onclick="selectMenu('/')" -->
        
    
</div>
    
    <div class="wrapper">
        <div class="tools-bar">	
            
                
                
                    <a target="_blank" rel="noopener" href="https://github.com/IDKHTS"><i class="fa fa-github tools-bar-icon"></i></a>
                
            
            <!-- <a href=""><i class="fa fa-weibo"></i></a>
            <a target="_blank" rel="noopener" href="https://github.com/IDKHTS"><i class="fa fa-github"></i></a> -->
            <i class="fa fa-angle-double-up tools-bar-icon" onclick="onScrollTop()"></i>
            <i class="fa fa-angle-double-down tools-bar-icon" onclick="onScrollBottom()"></i>
        </div>
        <div class="left">
            <div class="dirctory py-2 px-1 bg-white">
                
                    <div class="dirctory-text px-2 py-1 mb-1">目录</div>
                    
    
        <a class="d-level-4 d-item" id="参考：-h" href="#%E5%8F%82%E8%80%83%EF%BC%9A" onclick="onJumpPart('参考：')">参考：</a>
    

                
            </div>
        </div >
        <div class="right">
            <div class="bg-white px-3 pb-3">
    <!-- 为了方便目录的渲染，不用h1等，直接写样式 -->
    <div class="post-h1 py-2">vue-cli的vue.config.js</div>

    <div>
        <ul>
<li><p>vue-cli管理vue项目，一些配置写在vue.config.js下。vue-cli内置了webpack作为打包工具，这些配置也是写在vue.config.js了。</p>
</li>
<li><p>一些简单配置。。。看官方文档吧</p>
</li>
<li><p>使用webpack的optimization.splitChunks.cacheGroups来指定打包拆分规则</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    &#x2F;&#x2F;configureWebpack是vue-cli3后自己维护的，最终通过webpackMerge合并到webpack配置对象</span><br><span class="line">    configureWebpack: config &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;** cacheGroups的子属性是一个对象，这个对象的属性指定具体的打包规则</span><br><span class="line">         *  name：指定打包后文件的名称，具体打包后还会加上一个hash</span><br><span class="line">         *  test：匹配规则</span><br><span class="line">         *  chunks：指定哪些文件可以应用这个规则优化，值域：&#39;all&#39;、&#39;initial&#39;、&#39;async&#39;，all为所有模块都应用这个规则，initial为初始化模块才应用这个规则，即第一次加载时就需要用到文件，&#39;async&#39;异步，即按需加载的模块</span><br><span class="line">         * 【这样调用config.optimization.splitChunks(&#123;cacheGroups:&#123;common:&#123;name:...&#125;&#125;&#125;)</span><br><span class="line">         * 但是遇到TypeError:config.optimization.splitChunks is not a function报错</span><br><span class="line">         * 所以写成以下这样，事实上config.optimization.splitChunks就是一个对象而已的子属性</span><br><span class="line">         * 而已，所以肯定不可以把splitChunks对象当函数来用】</span><br><span class="line">         *&#x2F;</span><br><span class="line">        config.optimization.splitChunks.cacheGroups.common &#x3D; &#123;</span><br><span class="line">            name: &#39;echarts&#39;,</span><br><span class="line">            test: &#x2F;[\\&#x2F;]node_modules[\\&#x2F;]?echarts[\\&#x2F;]?&#x2F;, &#x2F;&#x2F; can customize your rules</span><br><span class="line">            minChunks: 1, &#x2F;&#x2F;  minimum common number</span><br><span class="line">            priority:5,</span><br><span class="line">            reuseExistingChunk: true,</span><br><span class="line">            minSize:1,</span><br><span class="line">            chunks:&#39;all&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  </span><br><span class="line">    &#x2F;&#x2F;vue.config.js中还可以使用webpack-chain这个库（github上）来配置webpack</span><br><span class="line">    chainWebpack: config &#x3D;&gt; &#123;</span><br><span class="line">        config.optimization.splitChunks(&#123;</span><br><span class="line">            vendors:&#123;</span><br><span class="line">                name&#39;chunk-vendors&#39;,</span><br><span class="line">                test:&#x2F;[\\&#x2F;]node_module[\\&#x2F;]&#x2F;,</span><br><span class="line">                priority: -5,</span><br><span class="line">            	chunks:&#39;all&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            commons:&#123;</span><br><span class="line">                ....</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>拆分完包，似乎还未能完成；多页面应用中，拆出来的chunk，html要怎么知道哪些chunk它需要用？</p>
<ul>
<li>答案是使用webpack的htmlwebpackplugin</li>
</ul>
</li>
<li><p>额外的，可以使用<code>npx vue-cli-service inspect</code>查看本配置文件最终得到的webpack配置，可直接写到一个文件里面查看<code>npx vue-cli-service inspect &gt; config.js</code></p>
</li>
</ul>
<h4 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h4><p><a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/webpack.html">简单的配置方式</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903680307625997">webpack SplitChunksPlugin实用指南</a></p>
<p><a target="_blank" rel="noopener" href="https://webpack.js.org/plugins/split-chunks-plugin/#splitchunkschunks">webpack optimization.splitchunks</a></p>
<p><a target="_blank" rel="noopener" href="https://www.ahwgs.cn/vue-cli3-build.html#2splitChunks">基于Vue-cli3一些常见的优化</a></p>

    </div>
</div>

    <section class="comments" id="comments">
        <div id="gitalk-container"></div>
        <!-- <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
        <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
        <script>
            let admins = 'IDKHTS'
            let arrPathName = (location.pathname).split("/")
            let gitalkID = ''
            for (let i = arrPathName.length - 1; i >= 0; i--) {
                if (arrPathName[i] != '') { gitalkID = arrPathName[i].substring(0, 49); break }
            }
            // console.log(gitalkID)
            var gitalk = new Gitalk({
                clientID: '884f505b74829948187e',
                clientSecret: '4e414213f820b3ddde39e15a53c2b5a70c301c5d',
                repo: 'idkhts.github.io',
                owner: 'IDKHTS',
                admin: admins.split(','),
                id: gitalkID,//location.pathname,  // Ensure uniqueness and length less than 50
                perPage: 50,
                distractionFreeMode: 'false'
            })

            gitalk.render('gitalk-container')
        </script>
    </section>
    

<!-- 
    page的属性
'title',          '_content',
'source',         'raw',
'slug',           'published',
'date',           'updated',
'comments',       'layout',
'photos',         'link',
'_id',            'content',
'site',           'excerpt',
'more',           'path',
'permalink',      'full_source',
'asset_dir',      'tags',
'categories',     'next',
'__post',         'lang',
'canonical_path' -->
        </div>
    </div>

    

    
<script src="/js/layout.js"></script>

    
    
        
<script src="/js/post.js"></script>

    
</body>

</html>